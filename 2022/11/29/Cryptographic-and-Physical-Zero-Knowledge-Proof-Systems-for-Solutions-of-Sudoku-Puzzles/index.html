<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="论文《Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles》的笔记，数独问题的密码学和物理零知识证明系统。。"><title>Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles</title>
<link rel=canonical href=https://wenjin1997.github.io/2022/11/29/Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles"><meta property='og:description' content="论文《Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles》的笔记，数独问题的密码学和物理零知识证明系统。。"><meta property='og:url' content='https://wenjin1997.github.io/2022/11/29/Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/'><meta property='og:site_name' content="Jade's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='ZKP'><meta property='article:tag' content='笔记'><meta property='article:published_time' content='2022-11-29T00:00:00+00:00'><meta property='article:modified_time' content='2022-11-29T00:00:00+00:00'><meta property='og:image' content='https://wenjin1997.github.io/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/background.jpg'><meta name=twitter:title content="Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles"><meta name=twitter:description content="论文《Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles》的笔记，数独问题的密码学和物理零知识证明系统。。"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://wenjin1997.github.io/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/background.jpg'><link rel="shortcut icon" href=/img/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/ghost_hu15175528053352950562.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Jade's Blog</a></h1><h2 class=site-description>Keep Learning and Thinking!</h2></div></header><ol class=menu-social><li><a href=https://github.com/wenjin1997 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/ChinnellHeish target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span></span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title"></h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#1-introduction>1 Introduction</a></li><li><a href=#2-definitions>2 Definitions</a><ol><li><a href=#cryptographic-functionalities>Cryptographic Functionalities</a></li><li><a href=#physical-protocols>Physical Protocols</a></li></ol></li><li><a href=#3-cryptographic-protocols>3. Cryptographic Protocols</a><ol><li><a href=#31-a-protocol-based-on-coloring>3.1 A Protocol Based on Coloring</a></li><li><a href=#32-an-efficient-cryptographic-protocol-with-constant-soundness-error>3.2 An Efficient Cryptographic Protocol with Constant Soundness Error</a></li><li><a href=#overhead-of-our-protocols>Overhead of our Protocols</a></li></ol></li><li><a href=#4-physical-protocols>4 Physical Protocols</a><ol><li><a href=#411-reducing-the-number-of-shuffles>4.1.1 Reducing the Number of Shuffles</a></li></ol></li><li><a href=#42-a-physical-zero-knowledge-protocol-with-no-soundness-error>4.2 A Physical Zero-Knowledge Protocol with no Soundness Error</a></li><li><a href=#43-a-protocol-using-scissors-and-a-sheet-of-paper>4.3 A Protocol Using Scissors and a Sheet of Paper</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/2022/11/29/Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/background.jpg loading=lazy alt="Featured image of post Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles"></a></div><div class=article-details><header class=article-category><a href=/categories/zkp/>ZKP</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/2022/11/29/Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/>Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles</a></h2><h3 class=article-subtitle>论文《Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles》的笔记，数独问题的密码学和物理零知识证明系统。。</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 29, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading></time></div></footer></div></header><section class=article-content><p>论文见<a class=link href=https://link.springer.com/content/pdf/10.1007/s00224-008-9119-9.pdf target=_blank rel=noopener>Cryptographic and Physical Zero-Knowledge Proof Systems for Solutions of Sudoku Puzzles</a>。本篇论文详细的介绍了关于数独问题的密码学和物理上的零知识证明协议。可以了解到零知识证明协议的完整过程，一般步骤有哪些。</p><h2 id=1-introduction>1 Introduction</h2><p>如何在不透露解的情况下让别人相信你知道一个数独的解。关注两件事，证明者如何说明：</p><ol><li>给定一个数独问题，存在一个解</li><li>他知道这个解，但是不用给出关于解的任何其他信息</li></ol><p>数独问题在计算复杂度上属于NP问题，事实上，是NP-完全问题。NP问题意味着很容易验证一个解是否正确。</p><h2 id=2-definitions>2 Definitions</h2><p>一般化的数独问题，数独问题的大小是 $n = k^2$，总共 $n \times n$个格子，每个小块是 $k \times k$大小的，那么数的范围是 ${ 1, &mldr;, n}$。比如常见的 $k = 3$，$9 \times 9$ 大小的数独。一个具体数独问题例子和解都是 $O(n^2 \log n)$ 位的。</p><h3 id=cryptographic-functionalities>Cryptographic Functionalities</h3><p>协议中有两方，一个是prover，一个是verifier。一旦prover和verifier固定下来，他们交互发的消息可以看作是一个只包含prover和verifier随机数的函数。下面讨论这个协议的一些性质：</p><ol><li><p>completeness.</p><p>一个诚实的verifier会accepect一个正确的证明。也就是一个prover有一个合法的解会遵循这个协议。</p></li><li><p>soundness error.</p><blockquote><p>The <strong>soundness error</strong> (or soundness) of the protocol is the (upper bound on the) probability that a verifier accepts an incorrect proof, i.e. a proof to a fallacious statement; in our case this corresponds to the event that a prover who does not a solution to a given Sudoku puzzle, claims that it knows to solve it, and the verifier accepts this claim.</p></blockquote><p>对于错误的证明，会有多少的概率通过verifier的验证。</p></li><li><p>zero-knowledge.</p><blockquote><p>The goal in designing the protocols is to prevent the verifier from gaining any new knowledge from a correct (interactive) proof. I.e., the protocol should be zero- knowledge in the following sense: whatever a verifier could learn by interacting with the correct prover, the verifier could learn itself.</p></blockquote><p>什么是零知识呢？无论verifier通过与prover交互学到了什么，那么verifier也能通过和自己交互学到这些知识，才是真的没有泄露任何别的知识。实际操作中有一个有效的模拟器。这个模拟器会生成verifier和prover之间的对话，同时只知道puzzle，而不知道数独的解。要求模拟器中verifier与prover对话之间的分布和真实的情况下两者之间的分布是一样的，这样就无法区分模拟器和真实的情况。</p></li><li><p>proofs-of-knowledge.</p><blockquote><p>Our protocols should also be <em><strong>proofs-of-knowledge</strong></em>: if the prover (or anyone imper-
sonating him) can succeed in making the verifier accept, then there is another ma-
chine, called the <em>extractor</em>, that can communicate with the prover and actually come
up with the solution itself. This must involve running the prover several times using
the same randomness (which is not possible under normal circumstances), so as not
to contradict the zero-knowledge properties.</p></blockquote><p>证明prover确实有知识，存在这样一个提取器，它能够通过和prover交互得到知识，当然，它不能发送通常的随机数，它可以多次使用相同的随机数。</p></li></ol><p>论文中证明中用到的唯一的密码学工具是 commitment protocol。一个承诺协议，发送方向接收方承诺一个值，接收方不会学到任何关于这个值有用的信息。这样的一个协议包含两个阶段：</p><ol><li><p><strong>commit phase</strong> 承诺阶段。</p><p>发送方绑定一些值 $v$，接收方不能决定任何关于 $v$ 有用的信息。特别地，对于任意的$b$和$b’$，接受方无法区分$v=b$和$v=b’$。这个性质称为 <strong><strong><strong><strong><strong><strong><strong>hiding</strong></strong></strong></strong></strong></strong></strong>。</p></li><li><p>decommit or reval phase</p><p>接收方获得$v$后，确保它是原来的值，也就是说，一旦commit阶段结束，接收方会在reval阶段接收一个唯一的值。这个性质称为 <strong>binding</strong>。</p></li></ol><p>bit commitment可以高效执行。</p><h3 id=physical-protocols>Physical Protocols</h3><p>在文章中使用 tamper-evident sealed envelopes，也就是防拆封信封。在数独的例子中，每个盖住的卡片当作是这样的 tamper-evident sealed envelopes，将卡片翻开就相当于拆开信封。</p><h2 id=3-cryptographic-protocols>3. Cryptographic Protocols</h2><p>verifer要保证两件事情：</p><ol><li>存在一个解</li><li>the prover 知道这个解</li></ol><p>零知识协议证明的结构：</p><blockquote><ol><li>The prover commits to several values. These values are functions of the instance,
the solution and some randomization known only to the prover. 证明方承诺一些值。</li><li>The verifier requests that the prover open some of the committed values—this is
called the <em>challenge</em>. The verifier chooses the challenge at random from a collec-
tion of possible challenges. 验证方发起挑战。</li><li>The prover opens the requested values. 证明方打开要求的值。</li><li>The verifier checks the consistency of the opened values with the given instance,
and accepts or rejects accordingly. 验证方验证给定实例打开值的一致性，然后相应地接受或者拒绝。</li></ol></blockquote><p>要求在步骤3中打开的值的分布是一个关于数独问题和步骤2中发送的挑战的有效函数。那么结合承诺协议的不可区分性质，说明了有效模拟器的存在性。</p><p>模拟器的操作如下：在步骤2中随机选择一个验证方可能发起的挑战，计算步骤1中会满足挑战的值。模拟器模拟将这些值发送给验证方，然后运行验证方的算法，用刚刚得到的值和数独问题作为输入。模拟器会获得在步骤2中发送的挑战。如果这个挑战是它之前猜的值，模拟器就会打开之前发送的承诺，那么验证方自然会接受，模拟器可以继续执行这个协议，否则的话，模拟器会重置并重新开始。这里有点绕，原文如下：</p><blockquote><p>The simulator operates in the following way: it picks at random a challenge that the verifier might send in Step 2 (i.e. it guesses what the verifier’s challenge will be), and computes commitments for Step 1 that will satisfy this challenge. The simulator simulates sending these commitments to the verifier, then it runs the verifier’s algo- rithm with the puzzle as its input, a fresh set of random bits and these commitments being the first message it receives. It then obtains the challenge the verifier sends in Step 2. If this challenge is indeed the value it guessed, then the simulator can open the commitments it sent and the verifier should accept; the simulator can continue simulating the protocol and output the transcript of the simulated protocol execution. Otherwise, the simulator resets the simulation and starts it all over again.</p></blockquote><p>如果可能的挑战的数量是多项式的，那么每次模拟器猜测验证方的挑战，就是用“reasonably high”概率是正确的。这个过程保证了协议是零知识的，因为模拟器的输出和验证方从证明方交互得到的输出是不能区分的，但是模拟器这一过程的计算是没有和证明方交互的，那肯定不能得到任何关于解的知识。</p><h3 id=31-a-protocol-based-on-coloring>3.1 A Protocol Based on Coloring</h3><p>对于3-Colorability Protocol，证明者重新排列颜色，然后提交每个顶点重新排列之后的颜色。验证方随机选择一条边，检查边的两端颜色是否是不同的。</p><p>对于数独问题，这个协议是如下这样的：</p><p><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/Untitled.png loading=lazy alt=Untitled></p><p>Prover步骤1是随机选择一个排列$\sigma$，从${1,\dots,n}$映射到${1,\dots,n}$，这样避免泄漏原来的解。</p><h3 id=32-an-efficient-cryptographic-protocol-with-constant-soundness-error>3.2 An Efficient Cryptographic Protocol with Constant Soundness Error</h3><p>下面这种协议有常数的soundness error。这个协议的想法是将每个单元复制三份，创建关于解的行、列以及子网格的视角。复制后的每个单元随机排列，prover的工作是说明以下性质：</p><ol><li>对应行、列、子网格含有所有可能的数字，如${ 1,2,&mldr;,n }$。</li><li>一个单元的三个版本的值都是相同的。</li><li>这些复制后的单元中包含预先确定的值。</li></ol><p>如果上述三个条件都满足的话，说明存在这样一个解并且prover是知道它的。具体的协议如下：</p><p><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/Untitled%201.png loading=lazy alt=Untitled></p><p>上面过程不是很好理解，例如$n=4$的情况，$3 \times n^2 = 2 \times 4^2 = 3 \times 16$，数独谜题里填的数字范围是 ${ 1,2,3,4 }$。这样有解的三个副本，分别是行、列、subgrids。</p><p><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/Untitled%202.png loading=lazy alt=Untitled></p><p>Prover：</p><ol><li>提交$3 \times n^2$ 个值 $v_1,v_2,…,v_{3 \times 4^2}$。$v_{i_1}、v_{i_2}、v_{i_3}$ 是原来数独解中的值，有相同的值，$(i_1,i_2,i_3)$ 是一个三元组，是随机的下标，例如图中的$(3,16,9)$、$(80,1,17)$。</li><li>提交范围${ 1,2, \dots , 3 \times n^2 }$中 $n^2$个三元组$(i_1,i_2,i_3)$，例如${ (3,16,9),(80,1,17)\dots,(i_1,i_2,i_3), \dots }$。</li><li>提交步骤2中个每个三元组的名字，如$(3,16,9)$的名字就是$(rows,columns,subgrids)$，$(80,1,17)$对应的是$(subgrids,rows,columns)$。</li><li>提交步骤1中$3n$组位置，对应行、列和子网格，并且在每组中不会存在相交的两个单元格。例如图中蓝色箭头部分。</li></ol><p>Verifier：选择以下三个中的一个进行挑战：</p><p>(a) 打开步骤1中$3 \times n^2$个值，以及步骤4中$3n$组的位置。验证每组中是否含有$n$个不同的值，任意两组之间不相交。</p><p>(b)打开步骤1中$3n^2$个值以及步骤2。验证提交的三元组对应下标的值都是相同的。</p><p>(c)打开步骤2、3、4中提交的值以及步骤1中已经填好的数独，如图中紫色数字。验证(i)打开的值和之前设定的值是一致的，(ii)步骤4中的每个集合和之前的位置是一致的，(iii)每个三元组的名字对应是正确的。</p><h3 id=overhead-of-our-protocols>Overhead of our Protocols</h3><p>上面两个协议都可以通过重复执行来降低soundness error。</p><h2 id=4-physical-protocols>4 Physical Protocols</h2><p>物理上的协议，使用 Tamper Evidence作为物理的密码学基础，就是密封的信封。</p><p>密码学协议和物理的协议的还有一个不同是：</p><blockquote><p>The protocol does not prevent cheating by adversaries that accept the risk of being labelled as cheaters (in this respect it is similar to the model of covert adversaries).</p></blockquote><p>两个函数需要用到：shuffle 和 triplicate。</p><p>实现密封效果有三种方式：</p><ol><li>密封的信封</li><li>刮刮卡</li><li>验证方和证明方在同一个房间，用标准的不透明卡片，密封就是把数字盖着，揭开数字就是翻转卡片，将数字朝上。</li></ol><p>协议3</p><blockquote><p><strong>Protocol 3</strong> <em>A physical protocol with</em> 1/9 <em>soundness error</em></p><ul><li><em>The prover places three scratch-off cards on each cell</em>. <em>On filled-in cells</em>, <em>he places
three cards with the correct value</em>, <em>which are already open</em> (<em>scratched</em>).</li><li><em>For each row/column/subgrid</em>, <em>the verifier chooses</em> (<em>at random</em>) <em>one of the three
cards of each cell in the corresponding row/column/subgrid</em>.</li><li><em>The prover makes packets of the verifier’s requested cards</em> (<em>i</em>.<em>e</em>. <em>for every row/
column/subgrid</em>, <em>he assembles the requested cards</em>). <em>He then shuffles each of the</em> 3n
<em>packets separately</em> (<em>using the shuffle functionality</em>), <em>and hands the shuffled packets
to the verifier</em>.</li><li><em>The verifier scratches off all the cards in each packet and verifies that each packet
contains all of the numbers</em>.</li></ul></blockquote><p>这个协议需要执行的洗牌次数比较多，对于$9 \times 9$的情况，需要进行$3 \times n = 3 \times 9 = 27$次洗牌，在实际操作中这个次数过多。</p><h3 id=411-reducing-the-number-of-shuffles>4.1.1 Reducing the Number of Shuffles</h3><p><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/Untitled%203.png loading=lazy alt=Untitled></p><p>上面的意思是在验证阶段，prover给每个袋子标记一个值，从$0$到$c-1$，如果标记的是$0$表示这个口袋不被选中。那么对于每一个标记的号$i$，如果有$t$个袋子是这个标记，就把这$t$个袋子混合在一起进行洗牌操作，最后验证里面每个数字是否出现$t$次。这样就大大减少了shuffles函数的调用次数。</p><h2 id=42-a-physical-zero-knowledge-protocol-with-no-soundness-error>4.2 A Physical Zero-Knowledge Protocol with no Soundness Error</h2><p><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/Untitled%204.png loading=lazy alt=Untitled></p><p>这种协议prover是没有办法作弊的。</p><h2 id=43-a-protocol-using-scissors-and-a-sheet-of-paper>4.3 A Protocol Using Scissors and a Sheet of Paper</h2><p><img src=/img/2022-11-29-Cryptographic-and-Physical-Zero-Knowledge-Proof-Systems-for-Solutions-of-Sudoku-Puzzles/Untitled%205.png loading=lazy alt=Untitled></p></section><footer class=article-footer><section class=article-tags><a href=/tags/zkp/>ZKP</a>
<a href=/tags/%E7%AC%94%E8%AE%B0/>笔记</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title></h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/2022/11/30/Zero-Knowledge-Proofs-An-illustrated-primer-Part2/><div class=article-image><img src=/img/2022-11-30-Zero-Knowledge-Proofs-An-illustrated-primer-Part2/background.jpg loading=lazy data-key data-hash=/img/2022-11-30-Zero-Knowledge-Proofs-An-illustrated-primer-Part2/background.jpg></div><div class=article-details><h2 class=article-title>Zero Knowledge Proofs: An illustrated primer, Part 2</h2></div></a></article><article class=has-image><a href=/2022/11/30/sec-bit-zkp-summary/><div class=article-image><img src=/img/2022-11-30-sec-bit-zkp-summary/toni-osmundson-ZQtk_VAvO7Y-unsplash.jpeg loading=lazy data-key data-hash=/img/2022-11-30-sec-bit-zkp-summary/toni-osmundson-ZQtk_VAvO7Y-unsplash.jpeg></div><div class=article-details><h2 class=article-title>安比实验室零知识证明介绍系列文章</h2></div></a></article><article class=has-image><a href=/2022/11/28/How-to-explain-zero-knowledge-protocols-to-your-children/><div class=article-image><img src=/img/2022-11-28-How-to-explain-zero-knowledge-protocols-to-your-children/background.jpg loading=lazy data-key data-hash=/img/2022-11-28-How-to-explain-zero-knowledge-protocols-to-your-children/background.jpg></div><div class=article-details><h2 class=article-title>How to explain zero-knowledge protocols to your children</h2></div></a></article><article class=has-image><a href=/2022/11/28/The-Incredible-Machine/><div class=article-image><img src=/img/2022-11-28-The-Incredible-Machine/nicolas-houdayer-3h_uBlWlobU-unsplash.jpg loading=lazy data-key data-hash=/img/2022-11-28-The-Incredible-Machine/nicolas-houdayer-3h_uBlWlobU-unsplash.jpg></div><div class=article-details><h2 class=article-title>The Incredible Machine</h2></div></a></article><article class=has-image><a href=/2022/11/21/Dan-Boneh-Cryptography-Week1/><div class=article-image><img src=/img/2022-11-21-Dan-Boneh-Cryptography-Week1/background.jpg loading=lazy data-key data-hash=/img/2022-11-21-Dan-Boneh-Cryptography-Week1/background.jpg></div><div class=article-details><h2 class=article-title>Dan Boneh Cryptography I Week1</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Jade's Blog</section><section class=powerby><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>